(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2480:function(){},4689:function(e,t,s){Promise.resolve().then(s.bind(s,2620))},2620:function(e,t,s){"use strict";let a;s.r(t),s.d(t,{default:function(){return p}});var r=s(7437),n=s(2265),l=s(7648);function i(){let[e,t]=(0,n.useState)(!1);return(0,r.jsxs)("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(l.default,{href:"/",className:"flex items-center",children:(0,r.jsxs)("span",{className:"text-2xl font-extrabold text-gray-900",children:[(0,r.jsx)("span",{className:"text-primary",children:"Trend"}),"Check"]})}),(0,r.jsxs)("div",{className:"hidden md:flex ml-10 space-x-4",children:[(0,r.jsx)(l.default,{href:"/",className:"text-gray-600 hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition duration-200",children:"Home"}),(0,r.jsx)("a",{href:"#features",className:"text-gray-600 hover:text-primary px-3 py-2 rounded-md text-sm font-medium transition duration-200",children:"Features"})]})]}),(0,r.jsx)("div",{className:"md:hidden flex items-center",children:(0,r.jsxs)("button",{onClick:()=>t(!e),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-primary hover:bg-gray-100 focus:outline-none",children:[(0,r.jsx)("svg",{className:"".concat(e?"hidden":"block"," h-6 w-6"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),(0,r.jsx)("svg",{className:"".concat(e?"block":"hidden"," h-6 w-6"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})})]})}),(0,r.jsx)("div",{className:"".concat(e?"block":"hidden"," md:hidden bg-white border-t"),children:(0,r.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[(0,r.jsx)(l.default,{href:"/",className:"block text-gray-600 hover:text-primary px-3 py-2 rounded-md text-base font-medium",children:"Home"}),(0,r.jsx)("a",{href:"#features",className:"block text-gray-600 hover:text-primary px-3 py-2 rounded-md text-base font-medium",children:"Features"})]})})]})}function o(e){let{onSubmit:t,isLoading:s}=e,[a,l]=(0,n.useState)(""),[i]=(0,n.useState)("instagram");return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&t(a.trim().startsWith("#")?a.trim():"#".concat(a.trim()),i)},className:"w-full mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Start Your Hashtag Analysis"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Enter a hashtag below to discover Instagram trends and insights"})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{htmlFor:"hashtag",className:"block text-sm font-medium text-gray-700 mb-2",children:"Hashtag to Analyze"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("span",{className:"text-gray-500 text-lg",children:"#"})}),(0,r.jsx)("input",{type:"text",id:"hashtag",value:a.startsWith("#")?a.substring(1):a,onChange:e=>l(e.target.value.startsWith("#")?e.target.value:"#".concat(e.target.value)),placeholder:"fitness",className:"w-full pl-8 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition duration-200",required:!0})]})]}),(0,r.jsx)("div",{className:"md:w-48",children:(0,r.jsx)("button",{type:"submit",disabled:s||!a.trim(),className:"w-full py-3 px-4 rounded-lg text-white font-medium flex items-center justify-center transition duration-200\n              ".concat(s||!a.trim()?"bg-gray-400 cursor-not-allowed":"bg-primary hover:bg-blue-600 shadow-md hover:shadow-lg"),children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Analyze Now"]})})})]}),(0,r.jsx)("div",{className:"mt-4 text-xs text-gray-500 text-center",children:"We respect your privacy - no personal data is stored during analysis"})]})}function c(e){var t;let{hashtag:s,platform:a,stats:n,posts:l}=e,i=l.length>0&&(null===(t=l[0])||void 0===t?void 0:t.metadata),o=i?l[0].metadata:null;i&&l[0];let c=i?l.slice(1):l;return(0,r.jsxs)("article",{className:"w-full max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden border border-gray-100",children:[(0,r.jsxs)("header",{className:"bg-gradient-to-r from-primary to-blue-600 p-6 text-white",children:[(0,r.jsxs)("h2",{className:"text-3xl font-bold",children:["Results for ",s]}),(0,r.jsxs)("p",{className:"text-sm opacity-80 mt-1",children:["Platform: ",a.charAt(0).toUpperCase()+a.slice(1)]})]}),(0,r.jsxs)("div",{className:"p-6",children:[o&&(0,r.jsxs)("section",{"aria-labelledby":"hashtag-info-heading",className:"mb-8 bg-blue-50 p-4 rounded-lg",children:[(0,r.jsx)("h3",{id:"hashtag-info-heading",className:"text-xl font-semibold text-primary mb-4",children:"Hashtag Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[void 0!==o.postCount&&(0,r.jsxs)("div",{className:"bg-white p-3 rounded-md shadow-sm border border-gray-200",children:[(0,r.jsx)("span",{className:"block text-2xl font-bold text-primary",children:o.postCount.toLocaleString()}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Total Posts"})]}),void 0!==o.postsPerDay&&(0,r.jsxs)("div",{className:"bg-white p-3 rounded-md shadow-sm border border-gray-200",children:[(0,r.jsx)("span",{className:"block text-2xl font-bold text-primary",children:o.postsPerDay}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Avg Posts/Day"})]}),o.difficulty&&(0,r.jsxs)("div",{className:"bg-white p-3 rounded-md shadow-sm border border-gray-200",children:[(0,r.jsx)("span",{className:"block text-2xl font-bold text-primary",children:o.difficulty}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Competition"})]}),void 0!==o.averageLikes&&o.averageLikes>0&&(0,r.jsxs)("div",{className:"bg-white p-3 rounded-md shadow-sm border border-gray-200",children:[(0,r.jsx)("span",{className:"block text-2xl font-bold text-primary",children:o.averageLikes.toLocaleString()}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Avg Likes/Post"})]}),void 0!==o.averageComments&&o.averageComments>0&&(0,r.jsxs)("div",{className:"bg-white p-3 rounded-md shadow-sm border border-gray-200",children:[(0,r.jsx)("span",{className:"block text-2xl font-bold text-primary",children:o.averageComments.toLocaleString()}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Avg Comments/Post"})]}),o.engagement&&(0,r.jsxs)("div",{className:"bg-white p-3 rounded-md shadow-sm border border-gray-200",children:[(0,r.jsx)("span",{className:"block text-2xl font-bold text-primary",children:o.engagement}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Engagement Rate"})]})]}),o.related&&o.related.length>0&&(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-blue-800 mb-2",children:"Related Hashtags"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 max-h-48 overflow-y-auto p-2 bg-blue-100/50 rounded border border-blue-200",children:o.related.map((e,t)=>{let s="string"==typeof e?e.replace("#",""):e.hash?e.hash.replace("#",""):"";return s?(0,r.jsxs)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm whitespace-nowrap shadow-sm",children:["#",s,"object"==typeof e&&e.info&&(0,r.jsxs)("small",{className:"ml-1 opacity-70",children:["(",e.info,")"]})]},t):null})})]})]}),c.length>0&&(0,r.jsxs)("section",{"aria-labelledby":"recent-posts-heading",className:"mt-8",children:[(0,r.jsxs)("h3",{id:"recent-posts-heading",className:"text-xl font-semibold text-gray-900 mb-4",children:["Sample Posts for ",s]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((e,t)=>{var a,n,l;return(0,r.jsxs)("div",{className:"border rounded-lg overflow-hidden shadow-sm bg-white hover:shadow-md transition-shadow duration-200",children:[e.imageUrl&&!e.imageUrl.includes("placeholder")&&(0,r.jsx)("div",{className:"h-48 overflow-hidden bg-gray-100",children:(0,r.jsx)("img",{src:e.imageUrl,alt:"Instagram post for ".concat(s," by ").concat(e.username,": ").concat(null===(a=e.caption)||void 0===a?void 0:a.substring(0,50),"...")||0,className:"w-full h-full object-cover",loading:"lazy"})}),(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-gray-700 hover:text-primary hover:underline",children:["@",e.username]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2 h-8",children:e.caption||"No caption available"}),(0,r.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-gray-600 border-t pt-2 border-gray-100",children:[(0,r.jsxs)("span",{children:["❤️ ",(null===(n=e.likes)||void 0===n?void 0:n.toLocaleString())||"N/A"]}),(0,r.jsxs)("span",{children:["\uD83D\uDCAC ",(null===(l=e.comments)||void 0===l?void 0:l.toLocaleString())||"N/A"]})]})]})]},t)})})]})]})]})}async function d(e,t){let s;console.log("[runSocialMediaScraper] NEXT_PUBLIC_APIFY_ACTOR_ID_INSTAGRAM:","shu8hvrXbJbY3Eb9W"),console.log("[runSocialMediaScraper] NEXT_PUBLIC_APIFY_ACTOR_ID_TIKTOK:","GdWCkxBtKWOsKjdch");let a="apify_api_ULV1Zfgcl46FE0KAL75Eq5NR5Sf4xc47NrvU",r="https://api.apify.com",n="instagram"===t?"shu8hvrXbJbY3Eb9W":"GdWCkxBtKWOsKjdch";if(!n)throw Error("Actor ID for ".concat(t," not found"));console.log("Starting ".concat(t," scraper for hashtag: ").concat(e)),console.log("Using actor ID: ".concat(n));let l=e.replace("#","").trim(),i="instagram"===t?{searchType:"hashtag",resultsType:"details",resultsLimit:5,maxRequestsPerCrawl:5,maxConcurrency:2,hashtags:[l],search:l}:{hashtags:[l],resultsPerPage:3,maxRequestsPerCrawl:5,shouldDownloadVideos:!1,shouldDownloadCovers:!1,proxyCountryCode:"None"};console.log("Using input format for ".concat(t,":"),JSON.stringify(i));let o=await fetch("".concat(r,"/v2/acts/").concat(n,"/runs"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(i)});if(!o.ok)throw console.error("Apify API Error:",await o.text()),Error("Failed to start Apify task: ".concat(o.statusText));let c=await o.json();console.log("Apify run started:",c);let d=c.data||c,m=d.id;if(!m)throw console.error("No run ID returned in the response:",d),Error("No run ID returned from Apify");let h=d.defaultDatasetId;console.log("Run started with ID: ".concat(m,", initial dataset ID: ").concat(h||"not available yet")),console.log("Waiting for actor run to complete...");let x=0,u=!1;for(;!u&&x<60;){x++,await new Promise(e=>setTimeout(e,2e3)),console.log("Checking run status (attempt ".concat(x,"/").concat(60,")..."));let e=await fetch("".concat(r,"/v2/acts/").concat(n,"/runs/").concat(m),{headers:{Authorization:"Bearer ".concat(a)}});if(!e.ok){console.warn("Failed to check run status: ".concat(e.statusText));continue}let t=(s=await e.json()).data||s;if(console.log("Run status: ".concat(t.status)),["SUCCEEDED","FINISHED","FAILED","ABORTED","TIMED_OUT"].includes(t.status)){if(u=!0,console.log("Run completed with status:",t.status),["FAILED","ABORTED","TIMED_OUT"].includes(t.status)){let e="Apify run failed with status: ".concat(t.status);try{let s=await fetch("".concat(r,"/v2/acts/").concat(n,"/runs/").concat(m),{headers:{Authorization:"Bearer ".concat(a)}});if(s.ok){let a=await s.json(),r=a.data||a;console.error("Failed Run Details:",r);let n=r.statusMessage||r.errorMessage||JSON.stringify(r);e="Apify run failed with status ".concat(t.status,": ").concat(n)}else console.warn("Could not fetch final failed run details.")}catch(e){console.warn("Error fetching final failed run details:",e)}throw Error(e)}!h&&t.defaultDatasetId&&(h=t.defaultDatasetId)}}if(!u)throw Error("Apify run timed out while waiting for completion");if(!h){let e=(null==s?void 0:s.data)||s;if(null==e?void 0:e.defaultDatasetId)h=e.defaultDatasetId;else throw Error("No dataset ID found after run completion")}return console.log("Run completed, using dataset ID: ".concat(h)),h}async function m(e){console.log("Fetching results from dataset: ".concat(e));let t=await fetch("".concat("https://api.apify.com","/v2/datasets/").concat(e,"/items"),{headers:{Authorization:"Bearer ".concat("apify_api_ULV1Zfgcl46FE0KAL75Eq5NR5Sf4xc47NrvU")}});if(!t.ok)throw console.error("Apify Dataset API Error:",await t.text()),Error("Failed to get dataset results: ".concat(t.statusText));let s=await t.json();console.log("Dataset response structure:",JSON.stringify(s).substring(0,200)+"...");let a=[];if(Array.isArray(s))a=s;else if(s.data&&Array.isArray(s.data))a=s.data;else if(s.data&&s.data.items&&Array.isArray(s.data.items))a=s.data.items;else throw console.error("Unexpected response format:",s),Error("Unexpected response format from Apify");return console.log("Retrieved ".concat(a.length," items from dataset")),a}function h(e){let{error:t,hashtag:s}=e,a=t.includes("Empty or private data");return(0,r.jsxs)("div",{className:"w-full max-w-md mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-red-600 p-4",children:(0,r.jsx)("h3",{className:"text-lg font-medium text-white",children:"Unable to Analyze Trend"})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"text-red-800 mb-4",children:[(0,r.jsx)("p",{className:"font-medium",children:"Error Details:"}),(0,r.jsx)("pre",{className:"text-sm whitespace-pre-wrap break-words mt-1",children:t})]}),a&&(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md text-sm",children:[(0,r.jsx)("p",{className:"font-medium mb-2",children:"Possible reasons:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,r.jsxs)("li",{children:["The hashtag ",(0,r.jsx)("span",{className:"font-bold",children:s})," may have restricted content"]}),(0,r.jsx)("li",{children:"Instagram/TikTok has implemented new scraping prevention measures"}),(0,r.jsx)("li",{children:"The hashtag may not exist or has very limited public content"}),(0,r.jsx)("li",{children:"There may be temporary rate limiting on the API"})]}),(0,r.jsx)("p",{className:"mt-4 font-medium",children:"Suggestions:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,r.jsx)("li",{children:"Try a more popular hashtag (e.g., #travel, #food, #fitness)"}),(0,r.jsx)("li",{children:"Try again in a few minutes"}),(0,r.jsx)("li",{children:"Make sure the hashtag doesn't contain special characters"})]})]})]})]})}function x(e){let{rateLimitResult:t}=e,s=t.reset.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),a=t.reset.toLocaleDateString([],{month:"short",day:"numeric"});return(0,r.jsxs)("div",{className:"w-full max-w-md mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-yellow-500 p-4",children:(0,r.jsx)("h3",{className:"text-lg font-medium text-white",children:"Rate Limit Reached"})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"text-gray-800 mb-4",children:[(0,r.jsx)("p",{className:"font-medium text-lg mb-2",children:"Daily request limit exceeded"}),(0,r.jsxs)("p",{className:"text-gray-600",children:["You have reached your limit of ",t.limit," trend analyses per day. This helps us keep our service running smoothly for everyone."]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md text-sm mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Daily limit:"}),(0,r.jsxs)("span",{className:"font-medium",children:[t.limit," requests"]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Remaining:"}),(0,r.jsxs)("span",{className:"font-medium",children:[t.remaining," requests"]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Resets at:"}),(0,r.jsxs)("span",{className:"font-medium",children:[s," on ",a]})]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Please try again after your limit resets. Thank you for understanding."})]})]})}console.log("[apify.ts top-level] NEXT_PUBLIC_APIFY_ACTOR_ID_INSTAGRAM:","shu8hvrXbJbY3Eb9W"),console.log("[apify.ts top-level] NEXT_PUBLIC_APIFY_ACTOR_ID_TIKTOK:","GdWCkxBtKWOsKjdch");var u=s(6014);try{a=new u.s({url:"https://concise-woodcock-26097.upstash.io",token:"AWXxAAIjcDEwMjYzMTNiNTk4MTk0OGQ1YjFhNDdkODJjMzczMzg2NHAxMA"})}catch(e){console.error("Failed to initialize Upstash Redis:",e)}async function g(e){if(!a)return console.warn("Rate limiting is disabled: Upstash Redis not configured"),{success:!0,limit:10,remaining:9,reset:new Date(Date.now()+864e5),error:"Rate limiting is disabled"};try{let t=new Date().toISOString().split("T")[0],s="rate_limit:".concat(e,":").concat(t),r=await a.get(s)||0,n=r<10,l=new Date;if(l.setHours(23,59,59,999),n){await a.incr(s);let e=await a.ttl(s);if(-1===e){let e=Math.floor((l.getTime()-Date.now())/1e3);await a.expire(s,e)}}return{success:n,limit:10,remaining:Math.max(0,10-r),reset:l}}catch(e){return console.error("Rate limit check failed:",e),{success:!0,limit:10,remaining:9,reset:new Date(Date.now()+864e5),error:"Rate limit check failed"}}}function p(){let{loading:e,error:t,posts:s,stats:a,analyzeTrend:l}=function(){let[e,t]=(0,n.useState)({posts:[],stats:{totalPosts:0,avgLikes:0,avgComments:0,topHashtags:[]},loading:!1,error:null}),s=async(e,s)=>{try{console.log("Analyzing trend for ".concat(e," on ").concat(s)),t(e=>({...e,loading:!0,error:null}));let a=await d(e,s);console.log("Successfully got dataset ID: ".concat(a));let r=await m(a);if(console.log("Retrieved ".concat(r.length," items from dataset")),r.length>0&&r[0]&&"object"==typeof r[0]){let e=r[0];if(e.error){let t=e.errorDescription||e.error||"No data available";throw Error("Apify error: ".concat(t))}}if(0===r.length)throw Error("No data found for hashtag ".concat(e," on ").concat(s));let n=function(e,t){if(1===e.length&&e[0].error)return console.error("Apify returned an error:",e[0]),[];if("instagram"!==t)return e.map(e=>{var t,s;return{caption:e.text||e.description,likes:e.likesCount||e.diggCount,comments:e.commentCount,url:e.webVideoUrl||e.url,imageUrl:e.thumbnailUrl||(null===(t=e.covers)||void 0===t?void 0:t[0]),username:(null===(s=e.authorMeta)||void 0===s?void 0:s.name)||e.author,timestamp:e.createTime}});if(console.log("Instagram data sample:",JSON.stringify(e.slice(0,1))),e.length>0&&e[0].hasOwnProperty("name")&&e[0].hasOwnProperty("postsCount")){console.log("Received hashtag metadata instead of posts");let t=e[0];if(t.posts&&Array.isArray(t.posts))return console.log("Found ".concat(t.posts.length," posts in the hashtag metadata")),t.posts.map(e=>({caption:e.caption||e.text,likes:e.likesCount||e.likes||0,comments:e.commentsCount||e.comments||0,url:e.url||e.postUrl,imageUrl:e.imageUrl||e.thumbnailUrl||e.displayUrl,username:e.ownerUsername||e.username||e.author||"Unknown",timestamp:e.timestamp||e.created||new Date().toISOString()}));let s=[...t.related||[],...t.average||[],...t.rare||[],...t.relatedFrequent||[]],a=[];return t.topPosts&&Array.isArray(t.topPosts)&&t.topPosts.length>0?(console.log("Found ".concat(t.topPosts.length," top posts for hashtag")),a=t.topPosts.slice(0,6).map(e=>({caption:e.caption||e.text||"Post by ".concat(e.ownerUsername||"user"),likes:e.likesCount||e.likes||0,comments:e.commentsCount||e.comments||0,url:e.url||e.postUrl,imageUrl:e.imageUrl||e.thumbnailUrl||e.displayUrl||"https://via.placeholder.com/300?text=No+Image",username:e.ownerUsername||e.username||e.author||"Unknown",timestamp:e.timestamp||e.created||new Date().toISOString()}))):t.recentPosts&&Array.isArray(t.recentPosts)&&t.recentPosts.length>0&&(console.log("Found ".concat(t.recentPosts.length," recent posts for hashtag")),a=t.recentPosts.slice(0,6).map(e=>({caption:e.caption||e.text||"Post by ".concat(e.ownerUsername||"user"),likes:e.likesCount||e.likes||0,comments:e.commentsCount||e.comments||0,url:e.url||e.postUrl,imageUrl:e.imageUrl||e.thumbnailUrl||e.displayUrl||"https://via.placeholder.com/300?text=No+Image",username:e.ownerUsername||e.username||e.author||"Unknown",timestamp:e.timestamp||e.created||new Date().toISOString()}))),[{caption:"#".concat(t.name," - ").concat(t.postsCount," posts"),likes:t.averageLikes||0,comments:t.averageComments||0,url:t.url,imageUrl:"https://via.placeholder.com/300?text=Hashtag+Info",username:t.name,timestamp:new Date().toISOString(),metadata:{postCount:t.postsCount,postsPerDay:t.postsPerDay,difficulty:t.difficulty,engagement:t.engagement||"Unknown",averageLikes:t.averageLikes||0,averageComments:t.averageComments||0,related:s.slice(0,30)}},...a]}return e.map(e=>({caption:e.caption,likes:e.likesCount,comments:e.commentsCount,url:e.url,imageUrl:e.imageUrl||e.thumbnailUrl,username:e.ownerUsername,timestamp:e.timestamp}))}(r,s);if(console.log("Normalized ".concat(n.length," posts")),0===n.length)throw Error("Unable to process data for hashtag ".concat(e,". Instagram may be restricting access."));let l=n.length,i=n.reduce((e,t)=>e+(t.likes||0),0),o=n.reduce((e,t)=>e+(t.comments||0),0),c=/#(\w+)/g,h={};n.forEach(e=>{if(e.caption){let t=e.caption.match(c);t&&t.forEach(e=>{let t=e.toLowerCase();h[t]=(h[t]||0)+1})}});let x=Object.entries(h).map(e=>{let[t,s]=e;return{tag:t,count:s}}).sort((e,t)=>t.count-e.count).slice(0,5);console.log("Analysis complete"),t({posts:n,stats:{totalPosts:l,avgLikes:l>0?Math.round(i/l):0,avgComments:l>0?Math.round(o/l):0,topHashtags:x},loading:!1,error:null})}catch(e){console.error("Analysis error:",e),t(t=>({...t,loading:!1,error:e instanceof Error?e.message:"An unknown error occurred"}))}};return{...e,analyzeTrend:s}}(),[u,p]=(0,n.useState)(""),[f]=(0,n.useState)("instagram"),[y,w]=(0,n.useState)(!1),[v,j]=(0,n.useState)(null),[b,N]=(0,n.useState)("");(0,n.useEffect)(()=>{b||N((()=>{let e=navigator.userAgent,t="".concat(window.screen.width,"x").concat(window.screen.height),s=Intl.DateTimeFormat().resolvedOptions().timeZone,a="".concat(e,"|").concat(t,"|").concat(s),r=0;for(let e=0;e<a.length;e++)r=(r<<5)-r+a.charCodeAt(e),r&=r;return"user_".concat(Math.abs(r))})())},[b]);let k=async(e,t)=>{if(p(e),b){let e=await g(b);if(!e.success){j(e);return}j(null)}await l(e,t),w(!0)};return(0,r.jsxs)("main",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-blue-50",children:[(0,r.jsx)(i,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("section",{"aria-labelledby":"hero-heading",className:"text-center mb-16 relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center -z-10 opacity-5",children:(0,r.jsx)("div",{className:"w-96 h-96 rounded-full bg-primary blur-3xl"})}),(0,r.jsxs)("h1",{id:"hero-heading",className:"text-5xl font-bold text-gray-900 mb-4",children:[(0,r.jsx)("span",{className:"text-primary",children:"Trend"}),"Check"]}),(0,r.jsx)("p",{className:"mt-3 text-xl text-gray-600 max-w-2xl mx-auto",children:"Analyze Instagram hashtag trends and gain valuable insights for your marketing strategy"}),(0,r.jsxs)("div",{className:"flex justify-center mt-6 space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center text-gray-700 text-sm",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-primary",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm0-2a6 6 0 100-12 6 6 0 000 12zm-1-5a1 1 0 011-1h1a1 1 0 110 2h-1a1 1 0 01-1-1zm-3-2a1 1 0 011-1h7a1 1 0 110 2H7a1 1 0 01-1-1z",clipRule:"evenodd"})}),"Instant Analysis"]}),(0,r.jsxs)("div",{className:"flex items-center text-gray-700 text-sm",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-primary",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h3a1 1 0 011 1v3a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L6 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L9 10.586l3.293-3.293A1 1 0 0112 7z",clipRule:"evenodd"})}),"Trending Insights"]}),(0,r.jsxs)("div",{className:"flex items-center text-gray-700 text-sm",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-primary",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h3a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Marketing Suggestions"]})]})]}),(0,r.jsxs)("section",{"aria-labelledby":"input-form-heading",className:"bg-white shadow-xl rounded-2xl p-6 lg:p-8 mb-12 border border-gray-100",children:[(0,r.jsx)("h2",{id:"input-form-heading",className:"sr-only",children:"Hashtag Input Form"})," ",(0,r.jsx)(o,{onSubmit:k,isLoading:e})]}),v&&!v.success&&(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)(x,{rateLimitResult:v})}),t&&!v&&(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)(h,{error:t,hashtag:u})}),e&&!t&&!v&&(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Analyzing hashtag trends..."})]}),y&&!e&&!t&&!v&&s.length>0&&(0,r.jsxs)("section",{"aria-labelledby":"results-heading",className:"mt-12",children:[(0,r.jsxs)("h2",{id:"results-heading",className:"sr-only",children:["Analysis Results for ",u]})," ",(0,r.jsx)(c,{hashtag:u,platform:f,stats:a,posts:s})]}),y&&!e&&!t&&s.length>0&&(0,r.jsx)("aside",{"aria-label":"Advertisement",className:"mt-16 mb-8 mx-auto",children:(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden border border-gray-200",children:[(0,r.jsx)("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"ADVERTISEMENT"})}),(0,r.jsx)("div",{className:"flex items-center justify-center bg-gray-50 p-2",children:(0,r.jsx)("div",{className:"bg-gray-100 w-full h-32 sm:h-40 md:h-48 lg:h-64 flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Google AdSense - Replace with your ad code"})})})]})}),(0,r.jsxs)("section",{id:"features","aria-labelledby":"features-heading",className:"py-12 scroll-mt-20",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("h2",{id:"features-heading",className:"text-3xl font-bold text-gray-900",children:"Why Use TrendCheck?"}),(0,r.jsx)("p",{className:"mt-3 text-gray-600",children:"Get valuable insights for your social media marketing strategy"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300",children:[(0,r.jsx)("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Trend Analysis"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Discover which hashtags are trending and how they perform over time."})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300",children:[(0,r.jsx)("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Engagement Metrics"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Get detailed engagement stats to improve your content strategy."})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300",children:[(0,r.jsx)("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Audience Insights"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Understand your audience better with related hashtag suggestions."})]})]})]})]}),(0,r.jsx)("footer",{className:"bg-gray-800 text-white py-8 mt-12",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,r.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"TrendCheck"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Social Media Trend Analysis"})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white",children:"About"}),(0,r.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Privacy Policy"}),(0,r.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Terms of Service"}),(0,r.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Contact"})]})]}),(0,r.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-700 text-center text-gray-400 text-sm",children:["\xa9 ",new Date().getFullYear()," TrendCheck. All rights reserved."]})]})})]})}}},function(e){e.O(0,[564,971,117,744],function(){return e(e.s=4689)}),_N_E=e.O()}]);